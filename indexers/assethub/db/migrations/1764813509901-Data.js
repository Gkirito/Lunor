module.exports = class Data1764813509901 {
    name = 'Data1764813509901'

    async up(db) {
        await db.query(`ALTER TABLE "event" DROP CONSTRAINT "event_block_id_fkey"`)
        await db.query(`ALTER TABLE "call" DROP CONSTRAINT "call_block_id_fkey"`)
        await db.query(`DROP INDEX "assethub"."idx_event_block_time"`)
        await db.query(`DROP INDEX "assethub"."idx_event_section"`)
        await db.query(`DROP INDEX "assethub"."idx_event_block_number"`)
        await db.query(`DROP INDEX "assethub"."idx_event_method"`)
        await db.query(`DROP INDEX "assethub"."idx_call_block_number"`)
        await db.query(`DROP INDEX "assethub"."idx_call_section"`)
        await db.query(`DROP INDEX "assethub"."idx_call_method"`)
        await db.query(`DROP INDEX "assethub"."idx_call_signer"`)
        await db.query(`DROP INDEX "assethub"."idx_block_number"`)
        await db.query(`DROP INDEX "assethub"."idx_block_time"`)
        await db.query(`DROP INDEX "assethub"."idx_transfer_block_number"`)
        await db.query(`DROP INDEX "assethub"."idx_transfer_from"`)
        await db.query(`DROP INDEX "assethub"."idx_transfer_to"`)
        await db.query(`DROP INDEX "assethub"."idx_transfer_asset"`)
        await db.query(`DROP INDEX "assethub"."idx_transfer_from_to"`)
        await db.query(`DROP INDEX "assethub"."idx_daily_stat_date"`)
        await db.query(`DROP INDEX "assethub"."idx_asset_transfer_block_number"`)
        await db.query(`DROP INDEX "assethub"."idx_asset_transfer_asset"`)
        await db.query(`DROP INDEX "assethub"."idx_asset_transfer_asset_id"`)
        await db.query(`DROP INDEX "assethub"."idx_asset_created_at"`)
        await db.query(`CREATE TABLE "nomination_pool_member" ("id" character varying NOT NULL, "pool_id" character varying NOT NULL, "account" text NOT NULL, "points" numeric NOT NULL, "unbonding_eras" text, "joined_at" TIMESTAMP WITH TIME ZONE NOT NULL, "joined_at_block" integer NOT NULL, "last_action_at" TIMESTAMP WITH TIME ZONE NOT NULL, "last_action_block" integer NOT NULL, CONSTRAINT "PK_39fa10666652aa751be0e924587" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_4a7e128cabfcc8824c1ffb7a9a" ON "nomination_pool_member" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_d74dd6e997f59bc1ef614a6d94" ON "nomination_pool_member" ("account") `)
        await db.query(`CREATE INDEX "IDX_4a7e128cabfcc8824c1ffb7a9a" ON "nomination_pool_member" ("pool_id") `)
        await db.query(`CREATE TABLE "nomination_pool_event" ("id" character varying NOT NULL, "block_number" integer NOT NULL, "block_time" TIMESTAMP WITH TIME ZONE NOT NULL, "extrinsic_hash" text, "event_index" integer NOT NULL, "event_type" text NOT NULL, "pool_id" character varying, "account" text, "amount" numeric, "era" integer, "extra_data" text, CONSTRAINT "PK_e3f8ca03fc9b8eeb51e6aba45af" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_6c286bbc0ce10c2a1904c619a4" ON "nomination_pool_event" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_72b61727c1cbc964c543b88cf7" ON "nomination_pool_event" ("block_time") `)
        await db.query(`CREATE INDEX "IDX_59f6b66143f78416cc969df298" ON "nomination_pool_event" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_a7205f59f74eca02385d5b986a" ON "nomination_pool_event" ("event_type") `)
        await db.query(`CREATE INDEX "IDX_1649cb857e6f46ae95b16796f2" ON "nomination_pool_event" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_7d27f75c5e13c5567b7d4557e3" ON "nomination_pool_event" ("account") `)
        await db.query(`CREATE INDEX "IDX_1649cb857e6f46ae95b16796f2" ON "nomination_pool_event" ("pool_id") `)
        await db.query(`CREATE TABLE "nomination_pool_snapshot" ("id" character varying NOT NULL, "snapshot_time" TIMESTAMP WITH TIME ZONE NOT NULL, "pool_id" character varying NOT NULL, "state" text NOT NULL, "total_staked" numeric NOT NULL, "member_count" integer NOT NULL, "commission_current" numeric, CONSTRAINT "PK_3624e628f209ff6a6b39fe178a1" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_95b30cc96df406d1327ba1ca14" ON "nomination_pool_snapshot" ("snapshot_time") `)
        await db.query(`CREATE INDEX "IDX_f8076eba0ee889d9adf1ec1b99" ON "nomination_pool_snapshot" ("pool_id") `)
        await db.query(`CREATE INDEX "IDX_f8076eba0ee889d9adf1ec1b99" ON "nomination_pool_snapshot" ("pool_id") `)
        await db.query(`CREATE TABLE "nomination_pool" ("id" character varying NOT NULL, "metadata" text, "state" text NOT NULL, "total_staked" numeric NOT NULL, "member_count" integer NOT NULL, "commission_current" numeric, "commission_max" numeric, "commission_change_rate" numeric, "root_account" text NOT NULL, "nominator_account" text, "bouncer_account" text, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "created_at_block" integer NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at_block" integer NOT NULL, CONSTRAINT "PK_eca87fa483dc7c8e44d3d884b5b" PRIMARY KEY ("id"))`)
        await db.query(`CREATE INDEX "IDX_3fd03366c04d316b7e29c64886" ON "nomination_pool" ("state") `)
        await db.query(`CREATE INDEX "IDX_f88f979178dc9556e4fee86e8d" ON "nomination_pool" ("total_staked") `)
        await db.query(`CREATE INDEX "IDX_e6e3bc1095fa0a34c4e834bba2" ON "nomination_pool" ("created_at") `)
        await db.query(`CREATE INDEX "IDX_a8a7fbbbb0d8305cd81eda6ac8" ON "event" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_b3289620e6076d751855bf7b3e" ON "event" ("block_time") `)
        await db.query(`CREATE INDEX "IDX_5849a08a8bedd645c758b85d26" ON "event" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_454df5a5a16bb99a92c08f7870" ON "event" ("section") `)
        await db.query(`CREATE INDEX "IDX_f38992d3f393b04d1739fcb271" ON "event" ("method") `)
        await db.query(`CREATE INDEX "IDX_2b0d35d675c4f99751855c4502" ON "event" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_8d62e222f606c249fb4046ad63" ON "call" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_b6498e602362301a1ce24cee61" ON "call" ("block_time") `)
        await db.query(`CREATE INDEX "IDX_638ba9d3d6a8224e66d404d784" ON "call" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_789570154e2acdd9d5ac8163f9" ON "call" ("call_section") `)
        await db.query(`CREATE INDEX "IDX_c5bec82c75e28ceeb3b78c13d9" ON "call" ("call_method") `)
        await db.query(`CREATE INDEX "IDX_423a6033b69356c6fab3347ca7" ON "call" ("signer_ss58") `)
        await db.query(`CREATE INDEX "IDX_d3a8c3d00494950ad6dc93297d" ON "call" ("success") `)
        await db.query(`CREATE INDEX "IDX_bd3f11fd4110d60ac8b96cd62f" ON "call" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_38414873c187a3e0c7943bc4c7" ON "block" ("number") `)
        await db.query(`CREATE INDEX "IDX_8a05cbf6cfd270fa49b15a718b" ON "block" ("block_time") `)
        await db.query(`CREATE INDEX "IDX_d6624eacc30144ea97915fe846" ON "transfer" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_1f75e666773e77991163714164" ON "transfer" ("block_time") `)
        await db.query(`CREATE INDEX "IDX_070c555a86b0b41a534a55a659" ON "transfer" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_530a9b650c56c9a5ffe83a63cf" ON "transfer" ("from_ss58") `)
        await db.query(`CREATE INDEX "IDX_90ae07e768770af97f6e62f339" ON "transfer" ("to_ss58") `)
        await db.query(`CREATE INDEX "IDX_f4007436c1b546ede08a4fd7ab" ON "transfer" ("amount") `)
        await db.query(`CREATE INDEX "IDX_e818cd083f48ed773afe017f7c" ON "transfer" ("asset_id") `)
        await db.query(`CREATE INDEX "IDX_ba6dde8e4634a7c3ba9ab1c89b" ON "transfer" ("transfer_type") `)
        await db.query(`CREATE INDEX "IDX_2916ce70a0760ad7d0e42a3097" ON "daily_stat" ("date") `)
        await db.query(`CREATE INDEX "IDX_dbef0cba171ad4e9bd38e1e6ba" ON "asset_transfer" ("block_number") `)
        await db.query(`CREATE INDEX "IDX_452d9071537c68e10a7d62eab9" ON "asset_transfer" ("block_time") `)
        await db.query(`CREATE INDEX "IDX_fe9345ff2c5e54e565443d5a7b" ON "asset_transfer" ("extrinsic_hash") `)
        await db.query(`CREATE INDEX "IDX_248d36d4f322202ffe49f120ba" ON "asset_transfer" ("asset_id") `)
        await db.query(`CREATE INDEX "IDX_045b7202d90e00642b741c798c" ON "asset_transfer" ("from_ss58") `)
        await db.query(`CREATE INDEX "IDX_ae3a401448cc2d023af75ee277" ON "asset_transfer" ("to_ss58") `)
        await db.query(`CREATE INDEX "IDX_e6ce2507c962f8b6507db03628" ON "asset_transfer" ("amount") `)
        await db.query(`CREATE INDEX "IDX_248d36d4f322202ffe49f120ba" ON "asset_transfer" ("asset_id") `)
        await db.query(`CREATE INDEX "IDX_9e9715174b9f9675e8f362da9f" ON "asset" ("created_at") `)
        await db.query(`CREATE INDEX "IDX_e391fe16627c0fe57a685ab10d" ON "asset" ("created_at_block") `)
        await db.query(`ALTER TABLE "event" ADD CONSTRAINT "FK_2b0d35d675c4f99751855c45021" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "call" ADD CONSTRAINT "FK_bd3f11fd4110d60ac8b96cd62f3" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "asset_transfer" ADD CONSTRAINT "FK_248d36d4f322202ffe49f120bac" FOREIGN KEY ("asset_id") REFERENCES "asset"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_member" ADD CONSTRAINT "FK_4a7e128cabfcc8824c1ffb7a9a2" FOREIGN KEY ("pool_id") REFERENCES "nomination_pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_event" ADD CONSTRAINT "FK_1649cb857e6f46ae95b16796f27" FOREIGN KEY ("pool_id") REFERENCES "nomination_pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "nomination_pool_snapshot" ADD CONSTRAINT "FK_f8076eba0ee889d9adf1ec1b99a" FOREIGN KEY ("pool_id") REFERENCES "nomination_pool"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`ALTER TABLE "event" ADD CONSTRAINT "event_block_id_fkey" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "call" ADD CONSTRAINT "call_block_id_fkey" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`CREATE INDEX "idx_event_block_time" ON "event" ("block_time") `)
        await db.query(`CREATE INDEX "idx_event_section" ON "event" ("section") `)
        await db.query(`CREATE INDEX "idx_event_block_number" ON "event" ("block_number") `)
        await db.query(`CREATE INDEX "idx_event_method" ON "event" ("method") `)
        await db.query(`CREATE INDEX "idx_call_block_number" ON "call" ("block_number") `)
        await db.query(`CREATE INDEX "idx_call_section" ON "call" ("call_section") `)
        await db.query(`CREATE INDEX "idx_call_method" ON "call" ("call_method") `)
        await db.query(`CREATE INDEX "idx_call_signer" ON "call" ("signer_ss58") `)
        await db.query(`CREATE INDEX "idx_block_number" ON "block" ("number") `)
        await db.query(`CREATE INDEX "idx_block_time" ON "block" ("block_time") `)
        await db.query(`CREATE INDEX "idx_transfer_block_number" ON "transfer" ("block_number") `)
        await db.query(`CREATE INDEX "idx_transfer_from" ON "transfer" ("from_ss58") `)
        await db.query(`CREATE INDEX "idx_transfer_to" ON "transfer" ("to_ss58") `)
        await db.query(`CREATE INDEX "idx_transfer_asset" ON "transfer" ("asset_id") `)
        await db.query(`CREATE INDEX "idx_transfer_from_to" ON "transfer" ("from_ss58", "to_ss58") `)
        await db.query(`CREATE INDEX "idx_daily_stat_date" ON "daily_stat" ("date") `)
        await db.query(`CREATE INDEX "idx_asset_transfer_block_number" ON "asset_transfer" ("block_number") `)
        await db.query(`CREATE INDEX "idx_asset_transfer_asset" ON "asset_transfer" ("asset_id") `)
        await db.query(`CREATE INDEX "idx_asset_transfer_asset_id" ON "asset_transfer" ("asset_id") `)
        await db.query(`CREATE INDEX "idx_asset_created_at" ON "asset" ("created_at") `)
        await db.query(`DROP TABLE "nomination_pool_member"`)
        await db.query(`DROP INDEX "assethub"."IDX_4a7e128cabfcc8824c1ffb7a9a"`)
        await db.query(`DROP INDEX "assethub"."IDX_d74dd6e997f59bc1ef614a6d94"`)
        await db.query(`DROP INDEX "assethub"."IDX_4a7e128cabfcc8824c1ffb7a9a"`)
        await db.query(`DROP TABLE "nomination_pool_event"`)
        await db.query(`DROP INDEX "assethub"."IDX_6c286bbc0ce10c2a1904c619a4"`)
        await db.query(`DROP INDEX "assethub"."IDX_72b61727c1cbc964c543b88cf7"`)
        await db.query(`DROP INDEX "assethub"."IDX_59f6b66143f78416cc969df298"`)
        await db.query(`DROP INDEX "assethub"."IDX_a7205f59f74eca02385d5b986a"`)
        await db.query(`DROP INDEX "assethub"."IDX_1649cb857e6f46ae95b16796f2"`)
        await db.query(`DROP INDEX "assethub"."IDX_7d27f75c5e13c5567b7d4557e3"`)
        await db.query(`DROP INDEX "assethub"."IDX_1649cb857e6f46ae95b16796f2"`)
        await db.query(`DROP TABLE "nomination_pool_snapshot"`)
        await db.query(`DROP INDEX "assethub"."IDX_95b30cc96df406d1327ba1ca14"`)
        await db.query(`DROP INDEX "assethub"."IDX_f8076eba0ee889d9adf1ec1b99"`)
        await db.query(`DROP INDEX "assethub"."IDX_f8076eba0ee889d9adf1ec1b99"`)
        await db.query(`DROP TABLE "nomination_pool"`)
        await db.query(`DROP INDEX "assethub"."IDX_3fd03366c04d316b7e29c64886"`)
        await db.query(`DROP INDEX "assethub"."IDX_f88f979178dc9556e4fee86e8d"`)
        await db.query(`DROP INDEX "assethub"."IDX_e6e3bc1095fa0a34c4e834bba2"`)
        await db.query(`DROP INDEX "assethub"."IDX_a8a7fbbbb0d8305cd81eda6ac8"`)
        await db.query(`DROP INDEX "assethub"."IDX_b3289620e6076d751855bf7b3e"`)
        await db.query(`DROP INDEX "assethub"."IDX_5849a08a8bedd645c758b85d26"`)
        await db.query(`DROP INDEX "assethub"."IDX_454df5a5a16bb99a92c08f7870"`)
        await db.query(`DROP INDEX "assethub"."IDX_f38992d3f393b04d1739fcb271"`)
        await db.query(`DROP INDEX "assethub"."IDX_2b0d35d675c4f99751855c4502"`)
        await db.query(`DROP INDEX "assethub"."IDX_8d62e222f606c249fb4046ad63"`)
        await db.query(`DROP INDEX "assethub"."IDX_b6498e602362301a1ce24cee61"`)
        await db.query(`DROP INDEX "assethub"."IDX_638ba9d3d6a8224e66d404d784"`)
        await db.query(`DROP INDEX "assethub"."IDX_789570154e2acdd9d5ac8163f9"`)
        await db.query(`DROP INDEX "assethub"."IDX_c5bec82c75e28ceeb3b78c13d9"`)
        await db.query(`DROP INDEX "assethub"."IDX_423a6033b69356c6fab3347ca7"`)
        await db.query(`DROP INDEX "assethub"."IDX_d3a8c3d00494950ad6dc93297d"`)
        await db.query(`DROP INDEX "assethub"."IDX_bd3f11fd4110d60ac8b96cd62f"`)
        await db.query(`DROP INDEX "assethub"."IDX_38414873c187a3e0c7943bc4c7"`)
        await db.query(`DROP INDEX "assethub"."IDX_8a05cbf6cfd270fa49b15a718b"`)
        await db.query(`DROP INDEX "assethub"."IDX_d6624eacc30144ea97915fe846"`)
        await db.query(`DROP INDEX "assethub"."IDX_1f75e666773e77991163714164"`)
        await db.query(`DROP INDEX "assethub"."IDX_070c555a86b0b41a534a55a659"`)
        await db.query(`DROP INDEX "assethub"."IDX_530a9b650c56c9a5ffe83a63cf"`)
        await db.query(`DROP INDEX "assethub"."IDX_90ae07e768770af97f6e62f339"`)
        await db.query(`DROP INDEX "assethub"."IDX_f4007436c1b546ede08a4fd7ab"`)
        await db.query(`DROP INDEX "assethub"."IDX_e818cd083f48ed773afe017f7c"`)
        await db.query(`DROP INDEX "assethub"."IDX_ba6dde8e4634a7c3ba9ab1c89b"`)
        await db.query(`DROP INDEX "assethub"."IDX_2916ce70a0760ad7d0e42a3097"`)
        await db.query(`DROP INDEX "assethub"."IDX_dbef0cba171ad4e9bd38e1e6ba"`)
        await db.query(`DROP INDEX "assethub"."IDX_452d9071537c68e10a7d62eab9"`)
        await db.query(`DROP INDEX "assethub"."IDX_fe9345ff2c5e54e565443d5a7b"`)
        await db.query(`DROP INDEX "assethub"."IDX_248d36d4f322202ffe49f120ba"`)
        await db.query(`DROP INDEX "assethub"."IDX_045b7202d90e00642b741c798c"`)
        await db.query(`DROP INDEX "assethub"."IDX_ae3a401448cc2d023af75ee277"`)
        await db.query(`DROP INDEX "assethub"."IDX_e6ce2507c962f8b6507db03628"`)
        await db.query(`DROP INDEX "assethub"."IDX_248d36d4f322202ffe49f120ba"`)
        await db.query(`DROP INDEX "assethub"."IDX_9e9715174b9f9675e8f362da9f"`)
        await db.query(`DROP INDEX "assethub"."IDX_e391fe16627c0fe57a685ab10d"`)
        await db.query(`ALTER TABLE "event" DROP CONSTRAINT "FK_2b0d35d675c4f99751855c45021"`)
        await db.query(`ALTER TABLE "call" DROP CONSTRAINT "FK_bd3f11fd4110d60ac8b96cd62f3"`)
        await db.query(`ALTER TABLE "asset_transfer" DROP CONSTRAINT "FK_248d36d4f322202ffe49f120bac"`)
        await db.query(`ALTER TABLE "nomination_pool_member" DROP CONSTRAINT "FK_4a7e128cabfcc8824c1ffb7a9a2"`)
        await db.query(`ALTER TABLE "nomination_pool_event" DROP CONSTRAINT "FK_1649cb857e6f46ae95b16796f27"`)
        await db.query(`ALTER TABLE "nomination_pool_snapshot" DROP CONSTRAINT "FK_f8076eba0ee889d9adf1ec1b99a"`)
    }
}
